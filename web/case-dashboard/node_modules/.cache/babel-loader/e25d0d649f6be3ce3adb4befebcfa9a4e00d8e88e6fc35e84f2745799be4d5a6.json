{"ast":null,"code":"var _jsxFileName = \"/Users/jaylenjohnson18/Storyboard/web/case-dashboard/src/components/docs/DocsUpload.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback, useRef } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { CloudArrowUpIcon, DocumentIcon, PhotoIcon, VideoCameraIcon, CheckCircleIcon, ExclamationTriangleIcon, XMarkIcon, ClockIcon } from '@heroicons/react/24/outline';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const DocsUpload = ({\n  caseId,\n  onUploadComplete,\n  onUploadError,\n  maxFileSize = 100 * 1024 * 1024,\n  // 100MB\n  acceptedTypes = ['.pdf', '.doc', '.docx', '.txt', '.jpg', '.jpeg', '.png', '.mp4', '.mp3', '.wav'],\n  multiple = true\n}) => {\n  _s();\n  const [files, setFiles] = useState([]);\n  const [isCalculatingHash, setIsCalculatingHash] = useState(false);\n  const [isUploading, setIsUploading] = useState(false);\n  const fileInputRef = useRef(null);\n  const calculateSHA256 = async file => {\n    const buffer = await file.arrayBuffer();\n    const hashBuffer = await crypto.subtle.digest('SHA-256', buffer);\n    const hashArray = Array.from(new Uint8Array(hashBuffer));\n    return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n  };\n  const uploadFile = async file => {\n    try {\n      var _file$metadata, _file$metadata2, _file$metadata3;\n      // Create FormData for upload\n      const formData = new FormData();\n      formData.append('file', file.file);\n      formData.append('evidence_type', 'document'); // Default to document\n      if ((_file$metadata = file.metadata) !== null && _file$metadata !== void 0 && _file$metadata.caseId) formData.append('case_id', file.metadata.caseId);\n      if ((_file$metadata2 = file.metadata) !== null && _file$metadata2 !== void 0 && _file$metadata2.description) formData.append('description', file.metadata.description);\n      if ((_file$metadata3 = file.metadata) !== null && _file$metadata3 !== void 0 && _file$metadata3.chainOfCustody) formData.append('tags', JSON.stringify({\n        chainOfCustody: file.metadata.chainOfCustody\n      }));\n\n      // Update status to uploading\n      setFiles(prev => prev.map(f => f.id === file.id ? {\n        ...f,\n        status: 'uploading',\n        progress: 0\n      } : f));\n\n      // Upload with progress tracking\n      const response = await fetch('/api/v1/evidence/upload', {\n        method: 'POST',\n        body: formData,\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('legal-sim-token')}`\n        }\n      });\n      if (!response.ok) {\n        throw new Error(`Upload failed: ${response.statusText}`);\n      }\n      const result = await response.json();\n\n      // Update file status to processing\n      setFiles(prev => prev.map(f => f.id === file.id ? {\n        ...f,\n        progress: 100,\n        status: 'processing'\n      } : f));\n      return result;\n    } catch (error) {\n      setFiles(prev => prev.map(f => f.id === file.id ? {\n        ...f,\n        status: 'error',\n        error: error instanceof Error ? error.message : 'Upload failed'\n      } : f));\n      throw error;\n    }\n  };\n  const onDrop = useCallback(async acceptedFiles => {\n    setIsCalculatingHash(true);\n    setIsUploading(true);\n    try {\n      const newFiles = await Promise.all(acceptedFiles.map(async file => {\n        // Validate file size\n        if (file.size > maxFileSize) {\n          throw new Error(`File ${file.name} exceeds maximum size of ${maxFileSize / (1024 * 1024)}MB`);\n        }\n\n        // Calculate SHA-256 hash\n        const sha256 = await calculateSHA256(file);\n        return {\n          id: crypto.randomUUID(),\n          file,\n          name: file.name,\n          size: file.size,\n          type: file.type,\n          sha256,\n          status: 'uploading',\n          progress: 0,\n          metadata: {\n            caseId,\n            description: '',\n            chainOfCustody: []\n          }\n        };\n      }));\n      setFiles(prev => [...prev, ...newFiles]);\n\n      // Upload files\n      for (const file of newFiles) {\n        await uploadFile(file);\n      }\n      onUploadComplete(newFiles);\n    } catch (error) {\n      onUploadError(error instanceof Error ? error.message : 'Upload failed');\n    } finally {\n      setIsCalculatingHash(false);\n      setIsUploading(false);\n    }\n  }, [maxFileSize, caseId, onUploadComplete, onUploadError]);\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive\n  } = useDropzone({\n    onDrop,\n    accept: acceptedTypes.reduce((acc, type) => {\n      acc[type] = [];\n      return acc;\n    }, {}),\n    multiple,\n    disabled: isCalculatingHash || isUploading\n  });\n  const removeFile = fileId => {\n    setFiles(prev => prev.filter(f => f.id !== fileId));\n  };\n  const updateMetadata = (fileId, metadata) => {\n    setFiles(prev => prev.map(f => f.id === fileId ? {\n      ...f,\n      metadata: {\n        ...f.metadata,\n        ...metadata\n      }\n    } : f));\n  };\n  const getFileIcon = type => {\n    if (type.startsWith('image/')) return /*#__PURE__*/_jsxDEV(PhotoIcon, {\n      className: \"w-8 h-8 text-blue-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 43\n    }, this);\n    if (type.startsWith('video/')) return /*#__PURE__*/_jsxDEV(VideoCameraIcon, {\n      className: \"w-8 h-8 text-purple-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 43\n    }, this);\n    if (type.includes('pdf') || type.includes('document')) return /*#__PURE__*/_jsxDEV(DocumentIcon, {\n      className: \"w-8 h-8 text-red-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 67\n    }, this);\n    return /*#__PURE__*/_jsxDEV(DocumentIcon, {\n      className: \"w-8 h-8 text-gray-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 12\n    }, this);\n  };\n  const getStatusIcon = status => {\n    switch (status) {\n      case 'completed':\n        return /*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n          className: \"w-5 h-5 text-green-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 16\n        }, this);\n      case 'error':\n        return /*#__PURE__*/_jsxDEV(ExclamationTriangleIcon, {\n          className: \"w-5 h-5 text-red-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 16\n        }, this);\n      case 'processing':\n        return /*#__PURE__*/_jsxDEV(ClockIcon, {\n          className: \"w-5 h-5 text-yellow-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 16\n        }, this);\n      case 'uploading':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 16\n        }, this);\n      default:\n        return null;\n    }\n  };\n  const formatFileSize = bytes => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ...getRootProps(),\n      className: `\n          border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors\n          ${isDragActive ? 'border-blue-500 bg-blue-50' : 'border-gray-300 hover:border-gray-400'}\n          ${isCalculatingHash || isUploading ? 'opacity-50 cursor-not-allowed' : ''}\n        `,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ...getInputProps(),\n        ref: fileInputRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CloudArrowUpIcon, {\n        className: \"w-12 h-12 mx-auto mb-4 text-gray-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-lg font-medium text-gray-700 mb-2\",\n        children: isDragActive ? 'Drop files here' : 'Drag & drop documents here'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-500 mb-4\",\n        children: \"or click to browse files\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-400\",\n        children: [\"Accepted formats: \", acceptedTypes.join(', '), \" (Max \", maxFileSize / (1024 * 1024), \"MB)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this), isCalculatingHash && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500 mt-2\",\n          children: \"Calculating file integrity...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 11\n      }, this), isUploading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500 mt-2\",\n          children: \"Uploading files...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this), files.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6 space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-gray-800\",\n        children: \"Uploaded Files\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 11\n      }, this), files.map(file => {\n        var _file$metadata4, _file$metadata5, _file$metadata5$chain;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white border rounded-lg p-4 shadow-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [getFileIcon(file.type), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-medium text-gray-800\",\n                  children: file.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500\",\n                  children: [formatFileSize(file.size), \" \\u2022 \", file.type]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 21\n                }, this), file.sha256 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-400 font-mono\",\n                  children: [\"SHA-256: \", file.sha256.substring(0, 16), \"...\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [getStatusIcon(file.status), file.status === 'uploading' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-24\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-gray-200 rounded-full h-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-blue-500 h-2 rounded-full transition-all duration-300\",\n                    style: {\n                      width: `${file.progress}%`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 275,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => removeFile(file.id),\n                className: \"text-gray-400 hover:text-red-500 transition-colors\",\n                title: \"Remove file\",\n                \"aria-label\": `Remove ${file.name}`,\n                children: /*#__PURE__*/_jsxDEV(XMarkIcon, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 15\n          }, this), file.error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-700\",\n            children: file.error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 pt-4 border-t\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Description\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: ((_file$metadata4 = file.metadata) === null || _file$metadata4 === void 0 ? void 0 : _file$metadata4.description) || '',\n                  onChange: e => updateMetadata(file.id, {\n                    description: e.target.value\n                  }),\n                  className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                  placeholder: \"Brief description of document\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Chain of Custody\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: ((_file$metadata5 = file.metadata) === null || _file$metadata5 === void 0 ? void 0 : (_file$metadata5$chain = _file$metadata5.chainOfCustody) === null || _file$metadata5$chain === void 0 ? void 0 : _file$metadata5$chain.join(', ')) || '',\n                  onChange: e => updateMetadata(file.id, {\n                    chainOfCustody: e.target.value.split(',').map(s => s.trim()).filter(Boolean)\n                  }),\n                  className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                  placeholder: \"Comma-separated list of custodians\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 15\n          }, this)]\n        }, file.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 210,\n    columnNumber: 5\n  }, this);\n};\n_s(DocsUpload, \"Ys/KIKNgZgvk7Vpv2GpuCe4RcA8=\", false, function () {\n  return [useDropzone];\n});\n_c = DocsUpload;\nexport default DocsUpload;\nvar _c;\n$RefreshReg$(_c, \"DocsUpload\");","map":{"version":3,"names":["React","useState","useCallback","useRef","useDropzone","CloudArrowUpIcon","DocumentIcon","PhotoIcon","VideoCameraIcon","CheckCircleIcon","ExclamationTriangleIcon","XMarkIcon","ClockIcon","jsxDEV","_jsxDEV","DocsUpload","caseId","onUploadComplete","onUploadError","maxFileSize","acceptedTypes","multiple","_s","files","setFiles","isCalculatingHash","setIsCalculatingHash","isUploading","setIsUploading","fileInputRef","calculateSHA256","file","buffer","arrayBuffer","hashBuffer","crypto","subtle","digest","hashArray","Array","from","Uint8Array","map","b","toString","padStart","join","uploadFile","_file$metadata","_file$metadata2","_file$metadata3","formData","FormData","append","metadata","description","chainOfCustody","JSON","stringify","prev","f","id","status","progress","response","fetch","method","body","headers","localStorage","getItem","ok","Error","statusText","result","json","error","message","onDrop","acceptedFiles","newFiles","Promise","all","size","name","sha256","randomUUID","type","getRootProps","getInputProps","isDragActive","accept","reduce","acc","disabled","removeFile","fileId","filter","updateMetadata","getFileIcon","startsWith","className","fileName","_jsxFileName","lineNumber","columnNumber","includes","getStatusIcon","formatFileSize","bytes","k","sizes","i","Math","floor","log","parseFloat","pow","toFixed","children","ref","length","_file$metadata4","_file$metadata5","_file$metadata5$chain","substring","style","width","onClick","title","value","onChange","e","target","placeholder","split","s","trim","Boolean","_c","$RefreshReg$"],"sources":["/Users/jaylenjohnson18/Storyboard/web/case-dashboard/src/components/docs/DocsUpload.tsx"],"sourcesContent":["import React, { useState, useCallback, useRef } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { \n  CloudArrowUpIcon, \n  DocumentIcon, \n  PhotoIcon, \n  VideoCameraIcon,\n  CheckCircleIcon,\n  ExclamationTriangleIcon,\n  XMarkIcon,\n  ClockIcon\n} from '@heroicons/react/24/outline';\n\ninterface UploadFile {\n  id: string;\n  file: File;\n  name: string;\n  size: number;\n  type: string;\n  sha256?: string;\n  status: 'uploading' | 'processing' | 'completed' | 'error';\n  progress: number;\n  error?: string;\n  metadata?: {\n    caseId?: string;\n    description?: string;\n    chainOfCustody?: string[];\n  };\n}\n\ninterface DocsUploadProps {\n  caseId?: string;\n  onUploadComplete: (files: UploadFile[]) => void;\n  onUploadError: (error: string) => void;\n  maxFileSize?: number;\n  acceptedTypes?: string[];\n  multiple?: boolean;\n}\n\nexport const DocsUpload: React.FC<DocsUploadProps> = ({\n  caseId,\n  onUploadComplete,\n  onUploadError,\n  maxFileSize = 100 * 1024 * 1024, // 100MB\n  acceptedTypes = ['.pdf', '.doc', '.docx', '.txt', '.jpg', '.jpeg', '.png', '.mp4', '.mp3', '.wav'],\n  multiple = true\n}) => {\n  const [files, setFiles] = useState<UploadFile[]>([]);\n  const [isCalculatingHash, setIsCalculatingHash] = useState(false);\n  const [isUploading, setIsUploading] = useState(false);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const calculateSHA256 = async (file: File): Promise<string> => {\n    const buffer = await file.arrayBuffer();\n    const hashBuffer = await crypto.subtle.digest('SHA-256', buffer);\n    const hashArray = Array.from(new Uint8Array(hashBuffer));\n    return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n  };\n\n  const uploadFile = async (file: UploadFile) => {\n    try {\n      // Create FormData for upload\n      const formData = new FormData();\n      formData.append('file', file.file);\n      formData.append('evidence_type', 'document'); // Default to document\n      if (file.metadata?.caseId) formData.append('case_id', file.metadata.caseId);\n      if (file.metadata?.description) formData.append('description', file.metadata.description);\n      if (file.metadata?.chainOfCustody) formData.append('tags', JSON.stringify({ chainOfCustody: file.metadata.chainOfCustody }));\n\n      // Update status to uploading\n      setFiles(prev => prev.map(f => \n        f.id === file.id ? { ...f, status: 'uploading', progress: 0 } : f\n      ));\n\n      // Upload with progress tracking\n      const response = await fetch('/api/v1/evidence/upload', {\n        method: 'POST',\n        body: formData,\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('legal-sim-token')}`,\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(`Upload failed: ${response.statusText}`);\n      }\n\n      const result = await response.json();\n      \n      // Update file status to processing\n      setFiles(prev => prev.map(f => \n        f.id === file.id \n          ? { ...f, progress: 100, status: 'processing' }\n          : f\n      ));\n\n      return result;\n    } catch (error) {\n      setFiles(prev => prev.map(f => \n        f.id === file.id \n          ? { ...f, status: 'error', error: error instanceof Error ? error.message : 'Upload failed' }\n          : f\n      ));\n      throw error;\n    }\n  };\n\n  const onDrop = useCallback(async (acceptedFiles: File[]) => {\n    setIsCalculatingHash(true);\n    setIsUploading(true);\n    \n    try {\n      const newFiles: UploadFile[] = await Promise.all(\n        acceptedFiles.map(async (file) => {\n          // Validate file size\n          if (file.size > maxFileSize) {\n            throw new Error(`File ${file.name} exceeds maximum size of ${maxFileSize / (1024 * 1024)}MB`);\n          }\n\n          // Calculate SHA-256 hash\n          const sha256 = await calculateSHA256(file);\n          \n          return {\n            id: crypto.randomUUID(),\n            file,\n            name: file.name,\n            size: file.size,\n            type: file.type,\n            sha256,\n            status: 'uploading' as const,\n            progress: 0,\n            metadata: {\n              caseId,\n              description: '',\n              chainOfCustody: []\n            }\n          };\n        })\n      );\n\n      setFiles(prev => [...prev, ...newFiles]);\n      \n      // Upload files\n      for (const file of newFiles) {\n        await uploadFile(file);\n      }\n      \n      onUploadComplete(newFiles);\n    } catch (error) {\n      onUploadError(error instanceof Error ? error.message : 'Upload failed');\n    } finally {\n      setIsCalculatingHash(false);\n      setIsUploading(false);\n    }\n  }, [maxFileSize, caseId, onUploadComplete, onUploadError]);\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    onDrop,\n    accept: acceptedTypes.reduce((acc, type) => {\n      acc[type] = [];\n      return acc;\n    }, {} as Record<string, string[]>),\n    multiple,\n    disabled: isCalculatingHash || isUploading\n  });\n\n  const removeFile = (fileId: string) => {\n    setFiles(prev => prev.filter(f => f.id !== fileId));\n  };\n\n  const updateMetadata = (fileId: string, metadata: Partial<UploadFile['metadata']>) => {\n    setFiles(prev => prev.map(f => \n      f.id === fileId \n        ? { ...f, metadata: { ...f.metadata, ...metadata } }\n        : f\n    ));\n  };\n\n  const getFileIcon = (type: string) => {\n    if (type.startsWith('image/')) return <PhotoIcon className=\"w-8 h-8 text-blue-500\" />;\n    if (type.startsWith('video/')) return <VideoCameraIcon className=\"w-8 h-8 text-purple-500\" />;\n    if (type.includes('pdf') || type.includes('document')) return <DocumentIcon className=\"w-8 h-8 text-red-500\" />;\n    return <DocumentIcon className=\"w-8 h-8 text-gray-500\" />;\n  };\n\n  const getStatusIcon = (status: UploadFile['status']) => {\n    switch (status) {\n      case 'completed':\n        return <CheckCircleIcon className=\"w-5 h-5 text-green-500\" />;\n      case 'error':\n        return <ExclamationTriangleIcon className=\"w-5 h-5 text-red-500\" />;\n      case 'processing':\n        return <ClockIcon className=\"w-5 h-5 text-yellow-500\" />;\n      case 'uploading':\n        return <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500\"></div>;\n      default:\n        return null;\n    }\n  };\n\n  const formatFileSize = (bytes: number) => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n\n  return (\n    <div className=\"w-full\">\n      {/* Upload Area */}\n      <div\n        {...getRootProps()}\n        className={`\n          border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors\n          ${isDragActive ? 'border-blue-500 bg-blue-50' : 'border-gray-300 hover:border-gray-400'}\n          ${isCalculatingHash || isUploading ? 'opacity-50 cursor-not-allowed' : ''}\n        `}\n      >\n        <input {...getInputProps()} ref={fileInputRef} />\n        <CloudArrowUpIcon className=\"w-12 h-12 mx-auto mb-4 text-gray-400\" />\n        <p className=\"text-lg font-medium text-gray-700 mb-2\">\n          {isDragActive ? 'Drop files here' : 'Drag & drop documents here'}\n        </p>\n        <p className=\"text-sm text-gray-500 mb-4\">\n          or click to browse files\n        </p>\n        <p className=\"text-xs text-gray-400\">\n          Accepted formats: {acceptedTypes.join(', ')} (Max {maxFileSize / (1024 * 1024)}MB)\n        </p>\n        {isCalculatingHash && (\n          <div className=\"mt-4\">\n            <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500 mx-auto\"></div>\n            <p className=\"text-sm text-gray-500 mt-2\">Calculating file integrity...</p>\n          </div>\n        )}\n        {isUploading && (\n          <div className=\"mt-4\">\n            <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500 mx-auto\"></div>\n            <p className=\"text-sm text-gray-500 mt-2\">Uploading files...</p>\n          </div>\n        )}\n      </div>\n\n      {/* File List */}\n      {files.length > 0 && (\n        <div className=\"mt-6 space-y-4\">\n          <h3 className=\"text-lg font-semibold text-gray-800\">Uploaded Files</h3>\n          {files.map((file) => (\n            <div key={file.id} className=\"bg-white border rounded-lg p-4 shadow-sm\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center space-x-3\">\n                  {getFileIcon(file.type)}\n                  <div>\n                    <p className=\"font-medium text-gray-800\">{file.name}</p>\n                    <p className=\"text-sm text-gray-500\">\n                      {formatFileSize(file.size)} • {file.type}\n                    </p>\n                    {file.sha256 && (\n                      <p className=\"text-xs text-gray-400 font-mono\">\n                        SHA-256: {file.sha256.substring(0, 16)}...\n                      </p>\n                    )}\n                  </div>\n                </div>\n                \n                <div className=\"flex items-center space-x-2\">\n                  {/* Status Icon */}\n                  {getStatusIcon(file.status)}\n                  \n                  {/* Progress Bar */}\n                  {file.status === 'uploading' && (\n                    <div className=\"w-24\">\n                      <div className=\"bg-gray-200 rounded-full h-2\">\n                        <div \n                          className=\"bg-blue-500 h-2 rounded-full transition-all duration-300\"\n                          style={{ width: `${file.progress}%` }}\n                        />\n                      </div>\n                    </div>\n                  )}\n                  \n                  {/* Remove Button */}\n                  <button\n                    onClick={() => removeFile(file.id)}\n                    className=\"text-gray-400 hover:text-red-500 transition-colors\"\n                    title=\"Remove file\"\n                    aria-label={`Remove ${file.name}`}\n                  >\n                    <XMarkIcon className=\"w-5 h-5\" />\n                  </button>\n                </div>\n              </div>\n              \n              {/* Error Message */}\n              {file.error && (\n                <div className=\"mt-2 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-700\">\n                  {file.error}\n                </div>\n              )}\n              \n              {/* Metadata Form */}\n              <div className=\"mt-4 pt-4 border-t\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Description\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={file.metadata?.description || ''}\n                      onChange={(e) => updateMetadata(file.id, { description: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      placeholder=\"Brief description of document\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Chain of Custody\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={file.metadata?.chainOfCustody?.join(', ') || ''}\n                      onChange={(e) => updateMetadata(file.id, { \n                        chainOfCustody: e.target.value.split(',').map(s => s.trim()).filter(Boolean)\n                      })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      placeholder=\"Comma-separated list of custodians\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default DocsUpload;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}