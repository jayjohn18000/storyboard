{"ast":null,"code":"var _jsxFileName = \"/Users/jaylenjohnson18/Storyboard/web/case-dashboard/src/pages/renders/RendersPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { RenderProgressMonitor } from '../../shared/components/render/RenderProgressMonitor';\nimport { useGetRendersQuery, useCancelRenderMutation, useRetryRenderMutation } from '../../store/api/rendersApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const RendersPage = () => {\n  _s();\n  const [selectedCaseId, setSelectedCaseId] = useState();\n\n  // Fetch renders data\n  const {\n    data: renderJobs = [],\n    isLoading,\n    error\n  } = useGetRendersQuery({\n    caseId: selectedCaseId\n  });\n\n  // Mutations\n  const [cancelRender] = useCancelRenderMutation();\n  const [retryRender] = useRetryRenderMutation();\n  const handleCancelJob = async jobId => {\n    try {\n      await cancelRender(jobId).unwrap();\n    } catch (error) {\n      console.error('Failed to cancel render:', error);\n    }\n  };\n  const handleRetryJob = async jobId => {\n    try {\n      await retryRender(jobId).unwrap();\n    } catch (error) {\n      console.error('Failed to retry render:', error);\n    }\n  };\n  const handleDownloadResult = jobId => {\n    // Trigger download query\n    const downloadUrl = `/api/v1/renders/${jobId}/download`;\n    const link = document.createElement('a');\n    link.href = downloadUrl;\n    link.download = `render_${jobId}.mp4`;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  // Transform render jobs to match the component interface\n  const transformedRenderJobs = renderJobs.map(job => ({\n    id: job.id,\n    caseId: job.case_id,\n    profile: job.profile,\n    status: job.status === 'processing' ? 'rendering' : job.status === 'queued' ? 'queued' : job.status === 'completed' ? 'completed' : job.status === 'failed' ? 'failed' : job.status === 'cancelled' ? 'cancelled' : 'queued',\n    progress: job.progress_percentage,\n    startTime: new Date(job.started_at || job.created_at),\n    framesRendered: job.frames_rendered,\n    totalFrames: job.total_frames,\n    renderTime: job.render_time_seconds,\n    queuePosition: job.status === 'queued' ? 1 : undefined,\n    error: job.error_message || undefined,\n    resultPath: job.output_path || undefined,\n    checksum: job.checksum || undefined\n  }));\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-lg text-gray-600\",\n        children: \"Loading renders...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    console.error('Renders API Error:', error);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-lg text-red-600\",\n        children: [\"Error loading renders: \", JSON.stringify(error, null, 2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-900\",\n          children: \"Render Progress Monitor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Monitor and manage video rendering jobs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-4\",\n        children: /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedCaseId || '',\n          onChange: e => setSelectedCaseId(e.target.value || undefined),\n          className: \"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n          \"aria-label\": \"Filter renders by case\",\n          children: /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"All Cases\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(RenderProgressMonitor, {\n      renderJobs: transformedRenderJobs,\n      onCancelJob: handleCancelJob,\n      onRetryJob: handleRetryJob,\n      onDownloadResult: handleDownloadResult\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n};\n_s(RendersPage, \"XIqKeDLKR9naR4/vis0skiSNzD0=\", false, function () {\n  return [useGetRendersQuery, useCancelRenderMutation, useRetryRenderMutation];\n});\n_c = RendersPage;\nvar _c;\n$RefreshReg$(_c, \"RendersPage\");","map":{"version":3,"names":["React","useState","RenderProgressMonitor","useGetRendersQuery","useCancelRenderMutation","useRetryRenderMutation","jsxDEV","_jsxDEV","RendersPage","_s","selectedCaseId","setSelectedCaseId","data","renderJobs","isLoading","error","caseId","cancelRender","retryRender","handleCancelJob","jobId","unwrap","console","handleRetryJob","handleDownloadResult","downloadUrl","link","document","createElement","href","download","body","appendChild","click","removeChild","transformedRenderJobs","map","job","id","case_id","profile","status","progress","progress_percentage","startTime","Date","started_at","created_at","framesRendered","frames_rendered","totalFrames","total_frames","renderTime","render_time_seconds","queuePosition","undefined","error_message","resultPath","output_path","checksum","className","children","fileName","_jsxFileName","lineNumber","columnNumber","JSON","stringify","value","onChange","e","target","onCancelJob","onRetryJob","onDownloadResult","_c","$RefreshReg$"],"sources":["/Users/jaylenjohnson18/Storyboard/web/case-dashboard/src/pages/renders/RendersPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { RenderProgressMonitor } from '../../shared/components/render/RenderProgressMonitor';\nimport { \n  useGetRendersQuery, \n  useCancelRenderMutation, \n  useRetryRenderMutation,\n  useDownloadRenderQuery,\n  RenderJob \n} from '../../store/api/rendersApi';\n\nexport const RendersPage: React.FC = () => {\n  const [selectedCaseId, setSelectedCaseId] = useState<string | undefined>();\n  \n  // Fetch renders data\n  const { data: renderJobs = [], isLoading, error } = useGetRendersQuery({ \n    caseId: selectedCaseId \n  });\n  \n  // Mutations\n  const [cancelRender] = useCancelRenderMutation();\n  const [retryRender] = useRetryRenderMutation();\n\n  const handleCancelJob = async (jobId: string) => {\n    try {\n      await cancelRender(jobId).unwrap();\n    } catch (error) {\n      console.error('Failed to cancel render:', error);\n    }\n  };\n\n  const handleRetryJob = async (jobId: string) => {\n    try {\n      await retryRender(jobId).unwrap();\n    } catch (error) {\n      console.error('Failed to retry render:', error);\n    }\n  };\n\n  const handleDownloadResult = (jobId: string) => {\n    // Trigger download query\n    const downloadUrl = `/api/v1/renders/${jobId}/download`;\n    const link = document.createElement('a');\n    link.href = downloadUrl;\n    link.download = `render_${jobId}.mp4`;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  // Transform render jobs to match the component interface\n  const transformedRenderJobs = renderJobs.map(job => ({\n    id: job.id,\n    caseId: job.case_id,\n    profile: job.profile as 'neutral' | 'cinematic',\n    status: (job.status === 'processing' ? 'rendering' : \n             job.status === 'queued' ? 'queued' :\n             job.status === 'completed' ? 'completed' :\n             job.status === 'failed' ? 'failed' :\n             job.status === 'cancelled' ? 'cancelled' : 'queued') as 'queued' | 'rendering' | 'completed' | 'failed' | 'cancelled',\n    progress: job.progress_percentage,\n    startTime: new Date(job.started_at || job.created_at),\n    framesRendered: job.frames_rendered,\n    totalFrames: job.total_frames,\n    renderTime: job.render_time_seconds,\n    queuePosition: job.status === 'queued' ? 1 : undefined,\n    error: job.error_message || undefined,\n    resultPath: job.output_path || undefined,\n    checksum: job.checksum || undefined,\n  }));\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"text-lg text-gray-600\">Loading renders...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    console.error('Renders API Error:', error);\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"text-lg text-red-600\">\n          Error loading renders: {JSON.stringify(error, null, 2)}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Render Progress Monitor</h1>\n          <p className=\"text-gray-600\">Monitor and manage video rendering jobs</p>\n        </div>\n        \n        <div className=\"flex items-center space-x-4\">\n          <select\n            value={selectedCaseId || ''}\n            onChange={(e) => setSelectedCaseId(e.target.value || undefined)}\n            className=\"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            aria-label=\"Filter renders by case\"\n          >\n            <option value=\"\">All Cases</option>\n            {/* TODO: Add case options from cases API */}\n          </select>\n        </div>\n      </div>\n      \n      <RenderProgressMonitor\n        renderJobs={transformedRenderJobs}\n        onCancelJob={handleCancelJob}\n        onRetryJob={handleRetryJob}\n        onDownloadResult={handleDownloadResult}\n      />\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}